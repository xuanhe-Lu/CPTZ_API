(function(){
var rsplit=function(string,regex){var result=regex.exec(string),retArr=new Array(),first_idx,last_idx,first_bit;while(result!=null){first_idx=result.index;last_idx=regex.lastIndex;if((first_idx)!=0){first_bit=string.substring(0,first_idx);retArr.push(string.substring(0,first_idx));string=string.slice(first_idx)}retArr.push(result[0]);string=string.slice(result[0].length);result=regex.exec(string)}if(!string==""){retArr.push(string)}return retArr},
chop=function(string){return string.substr(0,string.length-1)},
extend=function(d,s){for(var n in s){if(s.hasOwnProperty(n)){d[n]=s[n]}}};EJS=function(options){options=typeof options=="string"?{view:options}:options;this.set_options(options);if(options.precompiled){this.template={};this.template.process=options.precompiled;EJS.update(this.name,this);return}if(options.element){if(typeof options.element=="string"){var name=options.element;options.element=document.getElementById(options.element);if(options.element==null){throw name+"does not exist!"}}if(options.element.value){this.text=options.element.value}else{this.text=options.element.innerHTML}this.name=options.element.id;this.type="["}else{if(options.url){options.url=EJS.endExt(options.url,this.extMatch);this.name=this.name?this.name:options.url;var url=options.url;var template=EJS.get(this.name,this.cache);if(template){return template}if(template==EJS.INVALID_PATH){return null}try{this.text=EJS.request(url+(this.cache?"":"?"+Math.random()))}catch(e){}if(this.text==null){throw ({type:"EJS",message:"There is no template at "+url})}}}var template=new EJS.Compiler(this.text,this.type);template.compile(options,this.name);EJS.update(this.name,this);this.template=template};EJS.prototype={render:function(object,extra_helpers){object=object||{};this._extra_helpers=extra_helpers;var v=new EJS.Helpers(object,extra_helpers||{});return this.template.process.call(object,object,v)},update:function(element,options){if(typeof element=="string"){element=document.getElementById(element)}if(options==null){_template=this;return function(object){EJS.prototype.update.call(_template,element,object)}}if(typeof options=="string"){params={};params.url=options;_template=this;params.onComplete=function(request){var object=eval(request.responseText);EJS.prototype.update.call(_template,element,object)};EJS.ajax_request(params)}else{element.innerHTML=this.render(options)}},out:function(){return this.template.out},set_options:function(options){this.type=options.type||EJS.type;this.cache=options.cache!=null?options.cache:EJS.cache;this.text=options.text||null;this.name=options.name||null;this.ext=options.ext||EJS.ext;this.extMatch=new RegExp(this.ext.replace(/\./,"."))}};EJS.endExt=function(path,match){if(!path){return null}match.lastIndex=0;return path+(match.test(path)?"":this.ext)};EJS.Scanner=function(source,left,right){extend(this,{left_delimiter:left+"%",right_delimiter:"%"+right,double_left:left+"%%",double_right:"%%"+right,left_equal:left+"%=",left_comment:left+"%#"});this.SplitRegexp=left=="["?/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/:new RegExp("("+this.double_left+")|(%%"+this.double_right+")|("+this.left_equal+")|("+this.left_comment+")|("+this.left_delimiter+")|("+this.right_delimiter+"\n)|("+this.right_delimiter+")|(\n)");this.source=source;this.stag=null;this.lines=0};EJS.Scanner.to_text=function(input){if(input==null||input===undefined){return""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString()}return""};EJS.Scanner.prototype={scan:function(block){scanline=this.scanline;regex=this.SplitRegexp;if(!this.source==""){var source_split=rsplit(this.source,/\n/);for(var i=0;i<source_split.length;i++){var item=source_split[i];this.scanline(item,regex,block)}}},scanline:function(line,regex,block){this.lines++;var line_split=rsplit(line,regex);for(var i=0;i<line_split.length;i++){var token=line_split[i];if(token!=null){try{block(token,this)}catch(e){throw {type:"EJS.Scanner",line:this.lines}}}}}};EJS.Buffer=function(pre_cmd,post_cmd){this.line=new Array();this.script="";this.pre_cmd=pre_cmd;this.post_cmd=post_cmd;for(var i=0;i<this.pre_cmd.length;i++){this.push(pre_cmd[i])}};EJS.Buffer.prototype={push:function(cmd){this.line.push(cmd)},cr:function(){this.script=this.script+this.line.join("; ");this.line=new Array();this.script=this.script+"\n"},close:function(){if(this.line.length>0){for(var i=0;i<this.post_cmd.length;i++){this.push(pre_cmd[i])}this.script=this.script+this.line.join("; ");line=null}}};EJS.Compiler=function(source,left){this.pre_cmd=["var ___ViewO = [];"];this.post_cmd=new Array();this.source=" ";if(source!=null){if(typeof source=="string"){source=source.replace(/\r\n/g,"\n");source=source.replace(/\r/g,"\n");this.source=source}else{if(source.innerHTML){this.source=source.innerHTML}}if(typeof this.source!="string"){this.source=""}}left=left||"<";var right=">";switch(left){case"[":right="]";break;case"<":break;default:throw left+" is not a supported deliminator";break}this.scanner=new EJS.Scanner(this.source,left,right);this.out=""};EJS.Compiler.prototype={compile:function(options,name){options=options||{};this.out="";var put_cmd="___ViewO.push(";var insert_cmd=put_cmd;var buff=new EJS.Buffer(this.pre_cmd,this.post_cmd);var content="";var clean=function(content){content=content.replace(/\\/g,"\\\\");content=content.replace(/\n/g,"\\n");content=content.replace(/"/g,'\\"');return content};this.scanner.scan(function(token,scanner){if(scanner.stag==null){switch(token){case"\n":content=content+"\n";buff.push(put_cmd+'"'+clean(content)+'");');buff.cr();content="";break;case scanner.left_delimiter:case scanner.left_equal:case scanner.left_comment:scanner.stag=token;if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}content="";break;case scanner.double_left:content=content+scanner.left_delimiter;break;default:content=content+token;break}}else{switch(token){case scanner.right_delimiter:switch(scanner.stag){case scanner.left_delimiter:if(content[content.length-1]=="\n"){content=chop(content);buff.push(content);buff.cr()}else{buff.push(content)}break;case scanner.left_equal:buff.push(insert_cmd+"(EJS.Scanner.to_text("+content+")))");break}scanner.stag=null;content="";break;case scanner.double_right:content=content+scanner.right_delimiter;break;default:content=content+token;break}}});if(content.length>0){buff.push(put_cmd+'"'+clean(content)+'")')}buff.close();this.out=buff.script+";";var to_be_evaled="/*"+name+"*/this.process = function(_CONTEXT,_VIEW) { try { with(_VIEW) { with (_CONTEXT) {"+this.out+" return ___ViewO.join('');}}}catch(e){e.lineNumber=null;throw e;}};";try{eval(to_be_evaled)}catch(e){if(typeof JSLINT!="undefined"){JSLINT(this.out);for(var i=0;i<JSLINT.errors.length;i++){var error=JSLINT.errors[i];if(error.reason!="Unnecessary semicolon."){error.line++;var e=new Error();e.lineNumber=error.line;e.message=error.reason;if(options.view){e.fileName=options.view}throw e}}}else{throw e}}}};EJS.config=function(options){EJS.cache=options.cache!=null?options.cache:EJS.cache;EJS.type=options.type!=null?options.type:EJS.type;EJS.ext=options.ext!=null?options.ext:EJS.ext;var templates_directory=EJS.templates_directory||{};EJS.templates_directory=templates_directory;EJS.get=function(path,cache){if(cache==false){return null}if(templates_directory[path]){return templates_directory[path]}return null};EJS.update=function(path,template){if(path==null){return}templates_directory[path]=template};EJS.INVALID_PATH=-1};EJS.config({cache:true,type:"<",ext:".ejs"});EJS.Helpers=function(data,extras){this._data=data;this._extras=extras;extend(this,extras)};EJS.Helpers.prototype={view:function(options,data,helpers){if(!helpers){helpers=this._extras}if(!data){data=this._data}return new EJS(options).render(data,helpers)},to_text:function(input,null_text){if(input==null||input===undefined){return null_text||""}if(input instanceof Date){return input.toDateString()}if(input.toString){return input.toString().replace(/\n/g,"<br />").replace(/''/g,"'")}return""}};EJS.newRequest=function(){var factories=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var i=0;i<factories.length;i++){try{var request=factories[i]();if(request!=null){return request}}catch(e){continue}}};EJS.request=function(path){var request=new EJS.newRequest();request.open("GET",path,false);try{request.send(null)}catch(e){return null}if(request.status==404||request.status==2||(request.status==0&&request.responseText=="")){return null}return request.responseText};EJS.ajax_request=function(params){params.method=(params.method?params.method:"GET");var request=new EJS.newRequest();request.onreadystatechange=function(){if(request.readyState==4){if(request.status==200){params.onComplete(request)}else{params.onComplete(request)}}};request.open(params.method,params.url);request.send(null)}})();

Ext.form.TextField.override({initComponent:Ext.form.TextField.prototype.initComponent.createInterceptor(function(){if(this.allowBlank===false&&this.fieldLabel){this.fieldLabel=this.fieldLabel+" <font color=red>(*)</font> "}})});

Ext.form.CheckboxGroup.override({initComponent:Ext.form.CheckboxGroup.prototype.initComponent.createInterceptor(function(){if(this.allowBlank===false&&this.fieldLabel){this.fieldLabel=this.fieldLabel+" <font color=red>(*)</font> "}})});

Ext.form.FormPanel.override({initComponent:Ext.form.FormPanel.prototype.initComponent.createInterceptor(function(){if(this.title){this.title="<b>"+this.title+"</b> "}if(!this.iconCls){this.iconCls="mnu-application-view-detail"}})});

Ext.form.Field.override({initComponent:Ext.form.Field.prototype.initComponent.createInterceptor(function(){if(this.boldLabel){this.fieldLabel="<b>"+this.fieldLabel+"</b>"}})});Ext.override(Ext.XTemplate,{applySubTemplate:function(b,j,h,e,d){var g=this,f,l=g.tpls[b],k,c=[];if((l.test&&!l.test.call(g,j,h,e,d))||(l.exec&&l.exec.call(g,j,h,e,d))){return""}k=l.target?l.target.call(g,j,h):j;f=k.length;h=l.target?j:h;if(l.target&&Ext.isArray(k)){Ext.each(k,function(m,n){c[c.length]=l.compiled.call(g,m,h,n+1,f)});return c.join("")}return l.compiled.call(g,k,h,e,d)}});
Ext.override(Ext.form.DateField,{altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",safeParse:function(c,d){if(/[gGhH]/.test(d.replace(/(\\.)/g,""))){return Date.parseDate(c,d)}else{var b=Date.parseDate(c+" "+this.initTime,d+" "+this.initTimeFormat);if(b){return b.clearTime()}}}});
Ext.override(Ext.data.Store,{add:function(c){var e,b,d;c=[].concat(c);if(c.length<1){return}for(e=0,len=c.length;e<len;e++){b=c[e];b.join(this);if((b.dirty||b.phantom)&&this.modified.indexOf(b)==-1){this.modified.push(b)}}d=this.data.length;this.data.addAll(c);if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},insert:function(d,c){var e,b;c=[].concat(c);for(e=0,len=c.length;e<len;e++){b=c[e];this.data.insert(d+e,b);b.join(this);if((b.dirty||b.phantom)&&this.modified.indexOf(b)==-1){this.modified.push(b)}}if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},createRecords:function(d,c,f){var e=this.modified,h=c.length,b,g;for(g=0;g<h;g++){b=c[g];if(b.phantom&&b.isValid()){b.markDirty();if(e.indexOf(b)==-1){e.push(b)}}}if(this.autoSave===true){this.save()}}});Ext.data.MemoryProxy=function(c){var b={};b[Ext.data.Api.actions.read]=true;b[Ext.data.Api.actions.create]=true;b[Ext.data.Api.actions.update]=true;b[Ext.data.Api.actions.destroy]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:b});this.data=c};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(c,d,b,f,h,j,k){if(c===Ext.data.Api.actions.read){b=b||{};var l;try{l=f.readRecords(this.data)}catch(g){this.fireEvent("loadexception",this,null,k,g);this.fireEvent("exception",this,"response",c,k,null,g);h.call(j,null,k,false);return}}h.call(j,l,k,true)}});Ext.apply(Ext.DomHelper,function(){var x=null,l=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,n=/^table|tbody|tr|td$/i,e=/tag|children|cn|html$/i,t=/td|tr|tbody/i,p=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,v=/end/i,s,o="afterbegin",q="afterend",d="beforebegin",r="beforeend",b="<table>",j="</table>",c=b+"<tbody>",k="</tbody>"+j,m=c+"<tr>",w="</tr>"+k;function h(B,D,C,E,A,y){var z=s.insertHtml(E,Ext.getDom(B),u(D));return C?Ext.get(z,true):z}function u(D){var z="",y,C,B,E;if(typeof D=="string"){z=D}else{if(Ext.isArray(D)){for(var A=0;A<D.length;A++){if(D[A]){z+=u(D[A])}}}else{z+="<"+(D.tag=D.tag||"div");for(y in D){C=D[y];if(!e.test(y)){if(typeof C=="object"){z+=" "+y+'="';for(B in C){z+=B+":"+C[B]+";"}z+='"'}else{z+=" "+({cls:"class",htmlFor:"for"}[y]||y)+'="'+C+'"'}}}if(l.test(D.tag)){z+="/>"}else{z+=">";if((E=D.children||D.cn)){z+=u(E)}else{if(D.html){z+=D.html}}z+="</"+D.tag+">"}}}return z}function g(F,C,B,D){x.innerHTML=[C,B,D].join("");var y=-1,A=x,z;while(++y<F){A=A.firstChild}if(z=A.nextSibling){var E=document.createDocumentFragment();while(A){z=A.nextSibling;E.appendChild(A);A=z}A=E}return A}function f(y,z,B,A){var C,D;x=x||document.createElement("div");if(y=="td"&&(z==o||z==r)||!t.test(y)&&(z==d||z==q)){return}D=z==d?B:z==q?B.nextSibling:z==o?B.firstChild:null;if(z==d||z==q){B=B.parentNode}if(y=="td"||(y=="tr"&&(z==r||z==o))){C=g(4,m,A,w)}else{if((y=="tbody"&&(z==r||z==o))||(y=="tr"&&(z==d||z==q))){C=g(3,c,A,k)}else{C=g(2,b,A,j)}}B.insertBefore(C,D);return C}s={markup:function(y){return u(y)},applyStyles:function(y,z){if(z){var A;y=Ext.fly(y);if(typeof z=="function"){z=z.call()}if(typeof z=="string"){p.lastIndex=0;while((A=p.exec(z))){y.setStyle(A[1],A[2])}}else{if(typeof z=="object"){y.setStyle(z)}}}},insertHtml:function(D,y,E){var C={},A,G,F,I,B,z,H;D=D.toLowerCase();C[d]=["BeforeBegin","previousSibling"];C[q]=["AfterEnd","nextSibling"];if(y.insertAdjacentHTML){if(n.test(y.tagName)&&(z=f(y.tagName.toLowerCase(),D,y,E))){return z}C[o]=["AfterBegin","firstChild"];C[r]=["BeforeEnd","lastChild"];if((A=C[D])){y.insertAdjacentHTML(A[0],E);return y[A[1]]}}else{F=y.ownerDocument.createRange();G="setStart"+(v.test(D)?"After":"Before");if(C[D]){F[G](y);if(F.createContextualFragment){I=F.createContextualFragment(E)}else{I=document.createDocumentFragment(),H=document.createElement("div");I.appendChild(H);H.outerHTML=E}y.parentNode.insertBefore(I,D==d?y:y.nextSibling);return y[(D==d?"previous":"next")+"Sibling"]}else{B=(D==o?"first":"last")+"Child";if(y.firstChild){F[G](y[B]);I=F.createContextualFragment(E);if(D==o){y.insertBefore(I,y.firstChild)}else{y.appendChild(I)}}else{y.innerHTML=E}return y[B]}}throw'Illegal insertion point -> "'+D+'"'},insertBefore:function(y,A,z){return h(y,A,z,d)},insertAfter:function(y,A,z){return h(y,A,z,q,"nextSibling")},insertFirst:function(y,A,z){return h(y,A,z,o,"firstChild")},append:function(y,A,z){return h(y,A,z,r,"",true)},overwrite:function(y,A,z){y=Ext.getDom(y);y.innerHTML=u(A);return z?Ext.get(y.firstChild):y.firstChild},createHtml:u};return s}());Ext.dd.ScrollManager=function(){var d=Ext.dd.DragDropMgr;var f={};var c=null;var j={};var h=function(m){c=null;b()};var k=function(){if(d.dragCurrent){d.refreshCache(d.dragCurrent.groups)}};var e=function(){if(d.dragCurrent){var m=Ext.dd.ScrollManager;var n=j.el.ddScrollConfig?j.el.ddScrollConfig.increment:m.increment;if(!m.animate){if(j.el.scroll(j.dir,n)){k()}}else{j.el.scroll(j.dir,n,true,m.animDuration,k)}}};var b=function(){if(j.id){clearInterval(j.id)}j.id=0;j.el=null;j.dir=""};var g=function(n,m){b();j.el=n;j.dir=m;var p=(n.ddScrollConfig&&n.ddScrollConfig.frequency)?n.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency,o=n.ddScrollConfig?n.ddScrollConfig.ddGroup:undefined;if(o===undefined||d.dragCurrent.ddGroup==o){j.id=setInterval(e,p)}};var l=function(p,s){if(s||!d.dragCurrent){return}var t=Ext.dd.ScrollManager;if(!c||c!=d.dragCurrent){c=d.dragCurrent;t.refreshCache()}var u=Ext.lib.Event.getXY(p);var v=new Ext.lib.Point(u[0],u[1]);for(var n in f){var o=f[n],m=o._region;var q=o.ddScrollConfig?o.ddScrollConfig:t;if(m&&m.contains(v)&&o.isScrollable()){if(m.bottom-v.y<=q.vthresh){if(j.el!=o){g(o,"down")}return}else{if(m.right-v.x<=q.hthresh){if(j.el!=o){g(o,"left")}return}else{if(v.y-m.top<=q.vthresh){if(j.el!=o){g(o,"up")}return}else{if(v.x-m.left<=q.hthresh){if(j.el!=o){g(o,"right")}return}}}}}}b()};d.fireEvents=d.fireEvents.createSequence(l,d);d.stopDrag=d.stopDrag.createSequence(h,d);return{register:function(o){if(Ext.isArray(o)){for(var n=0,m=o.length;n<m;n++){this.register(o[n])}}else{o=Ext.get(o);f[o.id]=o}},unregister:function(o){if(Ext.isArray(o)){for(var n=0,m=o.length;n<m;n++){this.unregister(o[n])}}else{o=Ext.get(o);delete f[o.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var m in f){if(typeof f[m]=="object"){f[m]._region=f[m].getRegion()}}}}}();Ext.override(Ext.data.Record,{set:function(e,f){var d=Ext.isPrimitive(f)?String:Ext.encode;if(d(this.data[e])==d(f)){return}this.dirty=true;if(!this.previous){this.previous={}}this.previous[e]=this.data[e];if(!this.modified){this.modified={}}if(this.modified[e]===undefined){this.modified[e]=this.data[e]}this.data[e]=f;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store){this.store.afterEdit(this,this.previous)}delete this.previous},reject:function(e){var f=this.modified,h={};for(var g in f){if(typeof f[g]!="function"){h[g]=this.data[g];this.data[g]=f[g]}}delete this.modified;this.dirty=false;this.editing=false;if(e!==true){this.afterReject(h)}},afterReject:function(b){if(this.store){this.store.afterReject(this,b)}}});Ext.override(Ext.data.Store,{afterEdit:function(c,d){if(this.modified.indexOf(c)==-1){this.modified.push(c)}this.fireEvent("update",this,c,Ext.data.Record.EDIT,d)},afterReject:function(c,d){this.modified.remove(c);this.fireEvent("update",this,c,Ext.data.Record.REJECT,d)}});Ext.override(Ext.dd.DragZone,{destroy:Ext.dd.DragZone.prototype.destroy.createInterceptor(function(){if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}})});Ext.getMajorVersion=function(){return Math.abs(this.version.split(".")[0])};Ext.getMinorVersion=function(){return Math.abs(this.version.split(".")[1])};Ext.getRevision=function(){return Math.abs(this.version.split(".")[2])};Ext.ns("Ext.ux.maximgb.tg");Ext.ux.maximgb.tg.AbstractTreeStore=Ext.extend(Ext.data.Store,{leaf_field_name:"IsLeaf",page_offset:0,active_node:null,defaultExpanded:false,constructor:function(b){Ext.ux.maximgb.tg.AbstractTreeStore.superclass.constructor.call(this,b);if(!this.paramNames.active_node){this.paramNames.active_node="anode"}this.addEvents("beforeexpandnode","expandnode","expandnodefailed","beforecollapsenode","collapsenode","beforeactivenodechange","activenodechange")},remove:function(b){if(b===this.active_node){this.setActiveNode(null)}this.removeNodeDescendants(b);Ext.ux.maximgb.tg.AbstractTreeStore.superclass.remove.call(this,b)},removeNodeDescendants:function(g){var h,f,e=this.getNodeChildren(g);for(h=0,f=e.length;h<f;h++){this.remove(e[h])}},load:function(b){if(b){if(b.params){if(b.params[this.paramNames.active_node]===undefined){b.params[this.paramNames.active_node]=this.active_node?this.active_node.id:null}}else{b.params={};b.params[this.paramNames.active_node]=this.active_node?this.active_node.id:null}}else{b={params:{}};b.params[this.paramNames.active_node]=this.active_node?this.active_node.id:null}if(b.params[this.paramNames.active_node]!==null){b.add=true}return Ext.ux.maximgb.tg.AbstractTreeStore.superclass.load.call(this,b)},loadRecords:function(B,D,r){if(!B||r===false){if(r!==false){this.fireEvent("load",this,[],D)}if(D.callback){D.callback.call(D.scope||this,[],D,false)}return}var C=B.records,E=B.totalRecords||C.length,o=this.getPageOffsetFromOptions(D),e=this.getLoadedNodeIdFromOptions(D),t,A,x,y,v,z,g=this;if(!D||D.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(var A=0,x=C.length;A<x;A++){C[A].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.data.clear();this.data.addAll(C);this.page_offset=o;this.totalLength=E;this.applySort();this.fireEvent("datachanged",this)}else{if(e){t=this.getById(e)}if(t){this.setNodeChildrenOffset(t,o);this.setNodeChildrenTotalCount(t,Math.max(E,C.length));this.removeNodeDescendants(t)}this.suspendEvents();z={};for(A=0,x=C.length;A<x;A++){y=C[A];v=this.indexOfId(y.id);if(v==-1){z[y.id]=false}else{z[y.id]=true;this.setNodeExpanded(y,this.isExpandedNode(this.getAt(v)))}this.add(y)}this.applySort();this.resumeEvents();C.sort(function(d,h){var c=g.data.indexOf(d),f=g.data.indexOf(h),b;if(c>f){b=1}else{b=-1}return b});var w=[];for(A=0,x=C.length;A<x;A++){y=C[A];if(z[y.id]==true){this.fireEvent("update",this,y,Ext.data.Record.COMMIT)}else{if(e){w.push(y)}else{this.fireEvent("add",this,[y],this.data.indexOf(y))}}}if(e&&w.length>0){this.fireEvent("add",this,w,this.data.indexOf(w[0]))}}this.fireEvent("load",this,C,D);if(D.callback){D.callback.call(D.scope||this,C,D,true)}},sort:function(c,d){if(this.remoteSort){this.setActiveNode(null);if(this.lastOptions){this.lastOptions.add=false;if(this.lastOptions.params){this.lastOptions.params[this.paramNames.active_node]=null}}}return Ext.ux.maximgb.tg.AbstractTreeStore.superclass.sort.call(this,c,d)},applySort:function(){if(this.sortInfo&&!this.remoteSort){var d=this.sortInfo,c=d.field;this.sortData(c,d.direction)}else{this.applyTreeSort()}},sortData:function(d,c){Ext.ux.maximgb.tg.AbstractTreeStore.superclass.sortData.apply(this,arguments);this.applyTreeSort()},applyTreeSort:function(){var k,g,l,j,m=[],e=this.getRootNodes();for(k=0,g=e.length;k<g;k++){j=e[k];m.push(j);this.collectNodeChildrenTreeSorted(m,j)}if(m.length>0){this.data.clear();this.data.addAll(m)}if(this.snapshot&&this.snapshot!==this.data){l=this.data;this.data=this.snapshot;this.snapshot=null;this.applyTreeSort();this.snapshot=this.data;this.data=l}},collectNodeChildrenTreeSorted:function(e,k){var l,g,j,m=this.getNodeChildren(k);for(l=0,g=m.length;l<g;l++){j=m[l];e.push(j);this.collectNodeChildrenTreeSorted(e,j)}},getActiveNode:function(){return this.active_node},setActiveNode:function(b){if(this.active_node!==b){if(b){if(this.data.indexOf(b)!=-1){if(this.fireEvent("beforeactivenodechange",this,this.active_node,b)!==false){this.active_node=b;this.fireEvent("activenodechange",this,this.active_node,b)}}else{throw"Given record is not from the store."}}else{if(this.fireEvent("beforeactivenodechange",this,this.active_node,b)!==false){this.active_node=b;this.fireEvent("activenodechange",this,this.active_node,b)}}}},isExpandedNode:function(b){if(this.defaultExpanded){return b.ux_maximgb_tg_expanded!==false}else{return b.ux_maximgb_tg_expanded===true}},setNodeExpanded:function(c,d){c.ux_maximgb_tg_expanded=d},isVisibleNode:function(h){var k,e,j=this.getNodeAncestors(h),g=true;for(k=0,e=j.length;k<e;k++){g=g&&this.isExpandedNode(j[k]);if(!g){break}}return g},isLeafNode:function(b){return b.get(this.leaf_field_name)==true},isLoadedNode:function(c){var d=false;if(c.ux_maximgb_tg_loaded!==undefined){d=c.ux_maximgb_tg_loaded}else{if(this.hasChildNodes(c)||this.isLeafNode(c)){d=true}}return d},setNodeLoaded:function(c,d){c.ux_maximgb_tg_loaded=d},getNodeChildrenOffset:function(b){return b.ux_maximgb_tg_offset||0},setNodeChildrenOffset:function(c,d){c.ux_maximgb_tg_offset=d},getNodeChildrenTotalCount:function(b){return b.ux_maximgb_tg_total||0},setNodeChildrenTotalCount:function(c,d){c.ux_maximgb_tg_total=d},collapseNode:function(b){if(this.isExpandedNode(b)&&this.fireEvent("beforecollapsenode",this,b)!==false){this.setNodeExpanded(b,false);this.fireEvent("collapsenode",this,b)}},expandNode:function(d){var c;if(!this.isExpandedNode(d)&&this.fireEvent("beforeexpandnode",this,d)!==false){if(this.isLoadedNode(d)){this.setNodeExpanded(d,true);this.fireEvent("expandnode",this,d,false)}else{this.fireEvent("expandingnode",this,d);c={};c[this.paramNames.active_node]=d.id;this.load({add:true,params:c,callback:this.expandNodeCallback,scope:this})}}},expandNodeCallback:function(e,f,g){var h=this.getById(f.params[this.paramNames.active_node]);if(g&&h){this.setNodeLoaded(h,true);this.setNodeExpanded(h,true);this.fireEvent("expandnode",this,h,true)}else{this.fireEvent("expandnodefailed",this,f.params[this.paramNames.active_node],h)}},expandAll:function(){var g,h,f,e=this.data.getRange();this.suspendEvents();for(h=0,f=e.length;h<f;h++){g=e[h];if(!this.isExpandedNode(g)){this.expandNode(g)}}this.resumeEvents();this.fireEvent("datachanged",this)},collapseAll:function(){var g,h,f,e=this.data.getRange();this.suspendEvents();for(h=0,f=e.length;h<f;h++){g=e[h];if(this.isExpandedNode(g)){this.collapseNode(g)}}this.resumeEvents();this.fireEvent("datachanged",this)},getLoadedNodeIdFromOptions:function(c){var d=null;if(c&&c.params&&c.params[this.paramNames.active_node]){d=c.params[this.paramNames.active_node]}return d},getPageOffsetFromOptions:function(c){var d=0;if(c&&c.params&&c.params[this.paramNames.start]){d=parseInt(c.params[this.paramNames.start],10);if(isNaN(d)){d=0}}return d},hasNextSiblingNode:function(b){return this.getNodeNextSibling(b)!==null},hasPrevSiblingNode:function(b){return this.getNodePrevSibling(b)!==null},hasChildNodes:function(b){return this.getNodeChildrenCount(b)>0},getNodeAncestors:function(f){var d=[],e;e=this.getNodeParent(f);while(e){d.push(e);e=this.getNodeParent(e)}return d},getNodeChildrenCount:function(b){return this.getNodeChildren(b).length},getNodeNextSibling:function(j){var h,k,e,g=null;k=this.getNodeParent(j);if(k){h=this.getNodeChildren(k)}else{h=this.getRootNodes()}e=h.indexOf(j);if(e<h.length-1){g=h[e+1]}return g},getNodePrevSibling:function(j){var h,k,e,g=null;k=this.getNodeParent(j);if(k){h=this.getNodeChildren(k)}else{h=this.getRootNodes()}e=h.indexOf(j);if(e>0){g=h[e-1]}return g},getRootNodes:function(){throw"Abstract method call"},getNodeDepth:function(b){throw"Abstract method call"},getNodeParent:function(b){throw"Abstract method call"},getNodeChildren:function(b){throw"Abstract method call"},addToNode:function(d,c){throw"Abstract method call"},removeFromNode:function(d,c){throw"Abstract method call"},getPageOffset:function(){return this.page_offset},getActiveNodePageOffset:function(){var b;if(this.active_node){b=this.getNodeChildrenOffset(this.active_node)}else{b=this.getPageOffset()}return b},getActiveNodeCount:function(){var b;if(this.active_node){b=this.getNodeChildrenCount(this.active_node)}else{b=this.getRootNodes().length}return b},getActiveNodeTotalCount:function(){var b;if(this.active_node){b=this.getNodeChildrenTotalCount(this.active_node)}else{b=this.getTotalCount()}return b},isTaskChildOf:function(c,d){while(c&&(c=this.getNodeParent(c))){if(c===d){return true}}return false}});Ext.ns("Ext.ux.maximgb.tg");Ext.ux.maximgb.tg.AdjacencyListStore=Ext.extend(Ext.ux.maximgb.tg.AbstractTreeStore,{parent_id_field_name:"ParentId",getRootNodes:function(){var b=this.parent_id_field_name;return this.queryBy(function(c){return c.data[b]===null||c.data[b]===""}).items},getNodeDepth:function(b){return this.getNodeAncestors(b).length},getNodeParent:function(b){return this.getById(b.get(this.parent_id_field_name))},getNodeChildren:function(m){var q=[],e=this.data.items,l=m.id,p=this.parent_id_field_name,n;for(var o=0,g=e.length;o<g;o++){if(e[o].data[p]===l){q.push(e[o])}}return q},addToNode:function(d,c){c.set(this.parent_id_field_name,d.id);this.addSorted(c)},removeFromNode:function(d,c){this.remove(c)},hasChildNodes:function(b){return this.findExact(this.parent_id_field_name,b.id)>0}});Ext.reg("Ext.ux.maximgb.tg.AdjacencyListStore",Ext.ux.maximgb.tg.AdjacencyListStore);Ext.ux.maximgb.tg.NestedSetStore=Ext.extend(Ext.ux.maximgb.tg.AbstractTreeStore,{left_field_name:"_lft",right_field_name:"_rgt",level_field_name:"_level",root_node_level:1,getRootNodes:function(){var g,e,f=[],h=this.data.getRange();for(g=0,e=h.length;g<e;g++){if(h[g].get(this.level_field_name)==this.root_node_level){f.push(h[g])}}return f},getNodeDepth:function(b){return b.get(this.level_field_name)-this.root_node_level},getNodeParent:function(y){var e=null,s,t=this.data.getRange(),r,q,g,u,p,v,w,x;g=y.get(this.left_field_name);p=y.get(this.right_field_name);w=y.get(this.level_field_name);for(r=0,q=t.length;r<q;r++){s=t[r];u=s.get(this.left_field_name);v=s.get(this.right_field_name);x=s.get(this.level_field_name);if(x==w-1&&u<g&&v>p){e=s;break}}return e},getNodeChildren:function(u){var g,q,n,r,t,s,p,o,e=[];p=this.data.getRange();g=u.get(this.left_field_name);n=u.get(this.right_field_name);t=u.get(this.level_field_name);for(i=0,len=p.length;i<len;i++){o=p[i];q=o.get(this.left_field_name);r=o.get(this.right_field_name);s=o.get(this.level_field_name);if(s==t+1&&q>g&&r<n){e.push(o)}}return e}});

Ext.layout.ColumnLayout.override({getLayoutTargetSize:function(){var c=this.container.getLayoutTarget(),b;if(c){b=c.getViewSize();if(Ext.isIE&&Ext.isStrict&&b.width==0){b=c.getStyleSize()}b.width-=c.getPadding("lr");b.height-=c.getPadding("tb");if(true){if(b.width==0&&b.height==0){b=c.getStyleSize()}}}return b}});

Ext.parf=function(){return{
	includeJS:function(d){if(d==null){return}var c=document.getElementsByTagName("HEAD").item(0);var b=document.createElement("script");b.language="javascript";b.type="text/javascript";b.text=d;c.appendChild(b)},
	copyFormToStore:function(c,b){var e=c.getForm().getValues();for(var d in e){b.setBaseParam(d,e[d])}},emptyStoreByFormKey:function(c,b){var e=c.getForm().getValues();for(var d in e){b.setBaseParam(d,"")}},
	setProperty:function(e,c,d){var b=Ext.decode("{"+c+": '"+d+"'}");Ext.apply(e,b)},
	checkOnlyOneBox:function(b){if(b.indexOf(",")>-1){Ext.msg.alert("提示","您只能选择一行！");return false}if(b==""){Ext.msg.alert("提示","请您选择一行！");return false}return true},wrapPageBorder:function(c){var b=new Ext.XTemplate('<table width="100%" border="0" cellpadding="0" cellspacing="0" >','<tr><td colspan="3" height="{topmargin}"></td></tr>','<tr><td width="{leftmargin}"></td>',"<td>",'<table width="100%" border="0" cellpadding="0" cellspacing="0" class="pf-borderBg">','<tr><td class="pf-border-lt"></td><td class="pf-border-ct"></td><td class="pf-border-rt"></td></tr>','<tr><td class="pf-border-left"></td>',"<td>",'<table width="100%" border="0" cellpadding="0" cellspacing="0" >','<tr><td colspan="3" height="{pagetop}"></td></tr>','<tr><td width="{pageleft}"></td><td>','<div class="{pageCls}">{content}</div>','</td><td width="{pageright}"></td></tr>','<tr><td colspan="3" height="{pagebottom}"></td></tr>',"</table>","</td>",'<td class="pf-border-right"></td></tr>','<tr><td class="pf-border-lb"></td><td class="pf-border-cb"></td><td class="pf-border-rb"></td></tr>',"</table>","</td>",'<td width="{rigtmargin}"></td>',"</tr>",'<tr><td colspan="3" height="{bottommargin}"></td></tr>',"</table>");var d=Ext.apply({leftmargin:20,rigtmargin:20,topmargin:20,bottommargin:20,pagetop:45,pageleft:60,pageright:60,pagebottom:60,pageCls:"parf-page",content:""},c);return b.applyTemplate(d)},getDisplayFromValue:function(c,d,f,h){var g=c.getCount();if(g==0){return""}for(var e=0;e<g;e++){var b=c.getAt(e);if(b.get(d)==h){return b.get(f)}}return""},getDisplayFromDictStore:function(c,h){var d="REFERENCEID",f="REFERENCEVALUE";var g=c.getCount();if(g==0){return""}for(var e=0;e<g;e++){var b=c.getAt(e);if(b.get(d)==h){return b.get(f)}}return""},syncJson:function(d,c){var b=Ext.decode(this.syncRequest(d,c));return b},syncRequest:function(f,d){var c=null;if(window.XMLHttpRequest){c=new XMLHttpRequest()}else{if(window.ActiveXObject){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(g){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}}}c.open("Post",f,false);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=GBK");c.send(d);var b=c.responseText;return b},getTemplateHTML:function(d,c,b){
Ext.fjs.ajax({url:b,success:function(e,f){var g=e.responseText;d[c]=g}})

},renderDate:function(b){return function(c){var d;if(Ext.isEmpty(c)){return""}else{if(Ext.isEmpty(c.time)){if(Ext.isIE9){d=Date.parseDate(c,b||"Y-m-d")}else{d=new Date(c)}}else{d=new Date(c.time)}}return d.format(b||"Y-m-d H:i:s")}},convertDate:function(b,d){if(Ext.isDate(b)){return b}var c;if(Ext.isEmpty(b)){return new Date()}else{if(Ext.isEmpty(b.time)){if(Ext.isIE9){c=Date.parseDate(b,d||"Y-m-d")}else{c=new Date(b)}}else{c=new Date(b.time)}}return c},renderTranslate:function(b){return function(g,d,c,h,f,e){return c.get(b)}},
	showInfo:function(b){Ext.Msg.show({title:Ext.parf.common_msgTitle,msg:b+" ",buttons:Ext.Msg.OK,icon:Ext.MessageBox.INFO})},showError:function(b){Ext.Msg.show({title:Ext.parf.common_msgTitle,msg:b+" ",buttons:Ext.Msg.OK,icon:Ext.MessageBox.ERROR})},
	getBtnIcon:function(b){if(b==""){return""}return Ext.parf.iconBtnPath+b+".gif"},getBtnIconCls:function(b){if(b==""){return""}return"btn-"+b},
	getMenuIconCls:function(b){if(b==""){return""}return"mnu-"+b},
	getGroupTextTpl:function(b,d){var c=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',b,'</div></div><div id="{groupId}-bd" class="x-grid-group-body">');Ext.apply(c,d);return c},download:function(b){if(!_isCF){window.exportStatus="export";if(Ext.isIE6){window.event.srcElement.href="###"}location.href=b}else{location.href=b}},invokeItem:function(){if(arguments.length<1){alert("Ext.parf.invokeItem: Arguments error");return}var b=[].slice.apply(arguments);Ext.parf.Module.loadModule(arguments[0],function(c){if(b.length>1){var d=c[b[1]];if(Ext.isFunction(d)){(function(){d.apply(c,b.slice(2,b.length))}).defer(50,this);return}}if(c.invokeItem){(function(){c.invokeItem.apply(c,b.slice(1,b.length))}).defer(50,this);return}alert("没有找到模块的invokeItem方法！")})}}}();

Ext.namespace("Ext.parf");
Ext.parf.clone=function(e){if(!e||"object"!==typeof e){return e}if("function"===typeof e.clone){return e.clone()}var f="[object Array]"===Object.prototype.toString.call(e)?[]:{};var d,b;for(d in e){if(e.hasOwnProperty(d)){b=e[d];if(b&&"object"===typeof b){f[d]=Ext.parf.clone(b)}else{f[d]=b}}}return f};

Ext.namespace("Ext.parf.form");
Ext.parf.form.DateTimeField=Ext.extend(Ext.form.Field,{allowBlank:false,readOnly:false,defaultAutoCreate:{tag:"div"},initComponent:function(){var c={format:"Y-m-d",value:new Date().format("Y-m-d"),allowBlank:this.allowBlank,readOnly:this.readOnly,width:90};if(!this.dateconf){this.dateconf=c}else{this.dateconf=Ext.apply(this.dateconf,c);this.dateconf=Ext.apply(this.dateconf,{submitValue:false})}var b={minValue:"00:00",maxValue:"23:59",triggerAction:"all",altFormats:"H:i|G:i",format:"H:i",value:"00:00",allowBlank:this.allowBlank,readOnly:this.readOnly,increment:30,width:60};if(!this.timeconf){this.timeconf=b}else{this.timeconf=Ext.apply(this.timeconf,b);this.timeconf=Ext.apply(this.timeconf,{submitValue:false})}this.datefield=new Ext.form.DateField(this.dateconf);this.timefield=new Ext.form.TimeField(this.timeconf);this.hiddenField=new Ext.form.Hidden({name:this.name});if(this.allowBlank===false&&this.fieldLabel){this.fieldLabel=this.fieldLabel+" <font color=red>(*)</font> "}this.datefield.on("change",this.evt_datefield_change,this);this.timefield.on("change",this.evt_timefield_change,this);Ext.parf.form.DateTimeField.superclass.initComponent.call(this);this.hiddenField.setValue(this.getValue())},onRender:function(c,b){Ext.parf.form.DateTimeField.superclass.onRender.call(this,c,b);this.innerCt=new Ext.Container({border:this.border,height:this.height,layout:"column",width:this.width});this.innerCt.add(this.datefield);this.innerCt.add({xtype:"panel",style:"padding-left:3px;",items:this.timefield});this.innerCt.add(this.hiddenField);this.innerCt.render(this.el)},beforeDestroy:function(){if(this.innerCt){this.innerCt.destroy()}Ext.parf.form.DateTimeField.superclass.beforeDestroy.call(this)},evt_datefield_change:function(d,c,b){this.hiddenField.setValue(this.getValue())},evt_timefield_change:function(d,c,b){this.hiddenField.setValue(this.getValue())},setValue:function(b){var c=Ext.parf.convertDate(b,"Y-m-d H:i");this.datefield.setValue(c);this.timefield.setValue(c);this.hiddenField.setValue(this.getValue())},getValue:function(){var b=this.datefield.getValue().format("Y-m-d")+" "+this.timefield.getValue();return b}});Ext.reg("parf-datetimefield",Ext.parf.form.DateTimeField);

Ext.util.CSS.swapStyleSheet("parf-gridsummary","/parf/css/gridsummary.css");Ext.ns("Ext.parf.grid");
Ext.parf.grid.GridSummary=function(b){Ext.apply(this,b)};
Ext.extend(Ext.parf.grid.GridSummary,Ext.util.Observable,{init:function(c){this.grid=c;this.cm=c.getColumnModel();this.view=c.getView();var b=this.view;b.onLayout=this.onLayout;b.afterMethod("render",this.refreshSummary,this);b.afterMethod("refresh",this.refreshSummary,this);b.afterMethod("syncScroll",this.syncSummaryScroll,this);b.afterMethod("onColumnWidthUpdated",this.doWidth,this);b.afterMethod("onAllColumnWidthsUpdated",this.doAllWidths,this);b.afterMethod("onColumnHiddenUpdated",this.doHidden,this);c.store.on({add:this.refreshSummary,remove:this.refreshSummary,clear:this.refreshSummary,update:this.refreshSummary,scope:this});if(!this.rowTpl){this.rowTpl=new Ext.Template('<div class="x-grid3-summary-row x-grid3-gridsummary-row-offset">','<table class="x-grid3-summary-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr></tbody>","</table>","</div>");this.rowTpl.disableFormats=true}this.rowTpl.compile();if(!this.cellTpl){this.cellTpl=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}">','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>");this.cellTpl.disableFormats=true}this.cellTpl.compile()},calculate:function(d,m){var f={},k=m.config;for(var g=0,l=k.length;g<l;g++){var c=k[g],h=c.dataIndex;f[h]=0;if(c.summaryType){for(var e=0,n=d.length;e<n;e++){var b=d[e];f[h]=Ext.parf.grid.GridSummary.Calculations[c.summaryType](b.get(h),b,h,f,e)}}}return f},onLayout:function(b,c){if(Ext.type(c)!="number"){return}if(!this.grid.getGridEl().hasClass("x-grid-hide-gridsummary")){this.scroller.setHeight(c-this.summary.getHeight())}},syncSummaryScroll:function(){var b=this.view.scroller.dom;this.view.summaryWrap.dom.scrollLeft=b.scrollLeft;this.view.summaryWrap.dom.scrollLeft=b.scrollLeft},doWidth:function(d,b,c){var e=this.view.summary.dom;e.firstChild.style.width=c;e.firstChild.rows[0].childNodes[d].style.width=b},doAllWidths:function(b,c){var f=this.view.summary.dom,g=b.length;f.firstChild.style.width=c;var e=f.firstChild.rows[0].childNodes;for(var d=0;d<g;d++){e[d].style.width=b[d]}},doHidden:function(c,e,b){var d=this.view.summary.dom,f=e?"none":"";d.firstChild.style.width=b;d.firstChild.rows[0].childNodes[c].style.display=f},renderSummary:function(e,h,m){h=h||this.view.getColumnData();var j=m.config,f=[],n=h.length-1;for(var g=0,k=h.length;g<k;g++){var l=h[g],d=j[g],b={};b.id=l.id;b.style=l.style;b.css=g===0?"x-grid3-cell-first ":(g==n?"x-grid3-cell-last ":"");if(d.summaryType||d.summaryRenderer){b.value=(d.summaryRenderer||l.renderer)(e.data[l.name],b,e)}else{b.value=""}if(b.value===undefined||b.value===""){b.value="&#160;"}f[f.length]=this.cellTpl.apply(b)}return this.rowTpl.apply({tstyle:"width:"+this.view.getTotalWidth()+";",cells:f.join("")})},refreshSummary:function(){var f=this.grid,j=f.store,e=this.view.getColumnData(),b=this.cm,c=j.getRange(),h=this.calculate(c,b),d=this.renderSummary({data:h},e,b);if(!this.view.summaryWrap){this.view.summaryWrap=Ext.DomHelper.insertAfter(this.view.scroller,{tag:"div",cls:"x-grid3-gridsummary-row-inner"},true)}this.view.summary=this.view.summaryWrap.update(d).first()},toggleSummary:function(c){var b=this.grid.getGridEl();if(b){if(c===undefined){c=b.hasClass("x-grid-hide-gridsummary")}b[c?"removeClass":"addClass"]("x-grid-hide-gridsummary");this.view.layout()}},getSummaryNode:function(){return this.view.summary}});Ext.reg("gridsummary",Ext.parf.grid.GridSummary);Ext.parf.grid.GridSummary.Calculations={sum:function(c,b,d,f,e){return f[d]+Ext.num(c,0)},count:function(c,b,d,f,e){return e+1},max:function(c,b,d,f,e){return Math.max(Ext.num(c,0),f[d])},min:function(c,b,d,f,e){return Math.min(Ext.num(c,0),f[d])},average:function(c,b,e,h,g){var d=h[e]+Ext.num(c,0),f=b.store.getCount();return g==f-1?(d/f):d}};Ext.namespace("Ext.parf.layout");

Ext.namespace("Ext.parf.layout");
Ext.parf.layout.PageLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"page",prefix:null,loadTemplate:false,fieldsAutoWidth:false,leftmargin:20,rigtmargin:20,topmargin:20,bottommargin:20,pagetop:45,pageleft:60,pageright:60,pagebottom:45,onLayout:function(h,k){if(!this.loadTemplate){var g="";if(this.templateHTML){g=this.templateHTML}else{if(this.ejstemplate){g=new EJS({url:this.ejstemplate}).render(this.ejsdata)}else{if(this.template.indexOf("?")>-1){this.template=this.template+"&rnd="+Math.random()}else{this.template=this.template+"?rnd="+Math.random()}g=Ext.parf.syncRequest(this.template)}}if(!g||g==""){alert("模板"+this.template+"初始化错误!");return}this.prefix=Ext.id();var l=h.items.items;for(var f=0,j=l.length;f<j;f++){var m=l[f];var b="";if(m.name){b=m.name}else{if(m.hiddenName){b=m.hiddenName}}if(b!=""){if(m instanceof Ext.form.DisplayField&&m.noWordWrap){m.style=m.style||"";m.style+="white-space: normal;";g=g.replace("${"+b+"}",'<div  class="x-form-field-wrap"><table><tr><td id="'+this.prefix+"-"+b+'"></td></tr></table></div>')}else{g=g.replace("${"+b+"}",'<div id="'+this.prefix+"-"+b+'" class="x-form-field-wrap"></div>')}}}this.cls=this.cls||"parf-page";var e={leftmargin:this.leftmargin,rigtmargin:this.rigtmargin,topmargin:this.topmargin,bottommargin:this.bottommargin,pagetop:this.pagetop,pageleft:this.pageleft,pageright:this.pageright,pagebottom:this.pagebottom,content:g,pageCls:this.cls};var d=k.createChild({tag:"div"},null,true);d.innerHTML='<div class="'+this.cls+'">'+Ext.parf.wrapPageBorder(e)+"</div>";this.loadTemplate=true}this.renderAll(h,k)},renderItem:function(k,b,g){if(k&&!k.rendered){var d="";if(k.name){d=k.name}else{if(k.hiddenName){d=k.hiddenName}}if(d==""){return}if(k.fieldsAutoWidth==undefined){k.fieldsAutoWidth=true}if(k.fieldsAutoWidth==null){k.fieldsAutoWidth=true}if(this.fieldsAutoWidth&&k.fieldsAutoWidth){var j=this.prefix+"-"+d;var h=Ext.getDom(j);var f=Ext.get(h).parent("td",true);f.style.padding="0px";var e=f.clientWidth;if(e){f.style.width=(e-10)+"px";h.style.padding="0 5px 0 5px";k.width=e-30}}k.render(this.prefix+"-"+d);this.configureItem(k,b)}}});
Ext.Container.Layouts.page=Ext.parf.layout.PageLayout;Ext.namespace("Ext.parf.layout");Ext.parf.layout.FormLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"htmlform",prefix:null,leftmargin:20,rigtmargin:20,topmargin:20,bottommargin:20,loadTemplate:false,onLayout:function(h,k){if(!this.loadTemplate){var g="";if(this.templateHTML){g=this.templateHTML}else{if(this.ejstemplate){g=new EJS({url:this.ejstemplate}).render(this.ejsdata)}else{if(this.template.indexOf("?")>-1){this.template=this.template+"&rnd="+Math.random()}else{this.template=this.template+"?rnd="+Math.random()}g=Ext.parf.syncRequest(this.template)}}if(!g||g==""){alert("模板"+this.template+"初始化错误!");return}this.prefix=Ext.id();var l=h.items.items;for(var f=0,j=l.length;f<j;f++){var m=l[f];var b="";if(m.name){b=m.name}else{if(m.hiddenName){b=m.hiddenName}}if(b!=""){if(m instanceof Ext.form.DisplayField&&m.noWordWrap){m.style=m.style||"";m.style+="white-space: normal;";g=g.replace("${"+b+"}",'<div  class="x-form-field-wrap"><table><tr><td id="'+this.prefix+"-"+b+'"></td></tr></table></div>')}else{g=g.replace("${"+b+"}",'<div id="'+this.prefix+"-"+b+'" class="x-form-field-wrap"></div>')}}}this.cls=this.cls||"parf-form";var e={leftmargin:this.leftmargin,rigtmargin:this.rigtmargin,topmargin:this.topmargin,bottommargin:this.bottommargin,pagetop:0,pageleft:0,pageright:0,pagebottom:0,content:g,pageCls:this.cls};var d=k.createChild({tag:"div"},null,true);d.innerHTML='<div class="'+this.cls+'">'+Ext.parf.wrapPageBorder(e)+"</div>";this.loadTemplate=true}this.renderAll(h,k)},renderItem:function(k,b,g){if(k&&!k.rendered){var d="";if(k.name){d=k.name}else{if(k.hiddenName){d=k.hiddenName}}if(d==""){return}if(k.fieldsAutoWidth==undefined){k.fieldsAutoWidth=true}if(k.fieldsAutoWidth==null){k.fieldsAutoWidth=true}if(this.fieldsAutoWidth&&k.fieldsAutoWidth){var j=this.prefix+"-"+d;var h=Ext.getDom(j);var f=Ext.get(h).parent("td",true);f.style.padding="0px";var e=f.clientWidth;if(e){f.style.width=(e-10)+"px";h.style.padding="0 5px 0 5px";k.width=e-30}}k.render(this.prefix+"-"+d);this.configureItem(k,b)}}});
Ext.Container.Layouts.htmlform=Ext.parf.layout.FormLayout;Ext.namespace("Ext.parf.layout");Ext.parf.layout.TableFormLayout=Ext.extend(Ext.layout.TableLayout,{tableAttrs:{style:{width:"100%"}},renderAll:function(f,g){var d=f.items.items;for(var e=0,b=d.length;e<b;e++){var h=d[0];if(h&&(!h.rendered||!this.isValidParent(h,g))){this.renderItem(h,e,g)}}},renderItem:function(h,b,f){if(h&&!h.rendered){var g=this.getNextCell(h);var d={layout:"form",items:h,labelWidth:65,renderTo:g};if(this.formConfig){d=Ext.applyIf(this.formConfig,d);d=Ext.apply(this.formConfig,{layout:"form",items:h,renderTo:g})}var e=new Ext.Panel(d);this.container.add(e);this.configureItem(h,b)}},getNextCell:function(c){var cell=this.getNextNonSpan(this.currentColumn,this.currentRow);var curCol=this.currentColumn=cell[0],curRow=this.currentRow=cell[1];for(var rowIndex=curRow;rowIndex<curRow+(c.rowspan||1);rowIndex++){if(!this.cells[rowIndex]){this.cells[rowIndex]=[]}for(var colIndex=curCol;colIndex<curCol+(c.colspan||1);colIndex++){this.cells[rowIndex][colIndex]=true}}var td=document.createElement("td");if(c.cellId){td.id=c.cellId}var cls="x-table-layout-cell";if(c.cellCls){cls+=" "+c.cellCls}td.className=cls;if(c.colspan){td.colSpan=c.colspan}if(c.rowspan){td.rowSpan=c.rowspan}if(this.columnWidth){var w=this.columnWidth[this.currentColumn];td.width=w*100+"%"}else{var w=parseFloat(1/this.columns);w=parseFloat(w.toFixed(2));td.width=w*100+"%"}if(c.cellAttrs){var s="";for(a in c.cellAttrs){if((typeof c.cellAttrs[a])=="string"){s="td."+a+"='"+c.cellAttrs[a]+"'"}else{s="td."+a+"="+c.cellAttrs[a]}eval(s)}}this.getRow(curRow).appendChild(td);return td}});
Ext.Container.Layouts.parfform=Ext.parf.layout.TableFormLayout;Ext.namespace("Ext.parf.layout");Ext.parf.layout.TableExLayout=Ext.extend(Ext.layout.TableLayout,{tableAttrs:{cellspacing:5},getNextCell:function(c){var cell=this.getNextNonSpan(this.currentColumn,this.currentRow);var curCol=this.currentColumn=cell[0],curRow=this.currentRow=cell[1];for(var rowIndex=curRow;rowIndex<curRow+(c.rowspan||1);rowIndex++){if(!this.cells[rowIndex]){this.cells[rowIndex]=[]}for(var colIndex=curCol;colIndex<curCol+(c.colspan||1);colIndex++){this.cells[rowIndex][colIndex]=true}}var td=document.createElement("td");if(c.cellId){td.id=c.cellId}var cls="x-table-layout-cell";if(c.cellCls){cls+=" "+c.cellCls}td.className=cls;if(c.colspan){td.colSpan=c.colspan}if(c.rowspan){td.rowSpan=c.rowspan}if(c.cellAttrs){var s="";for(a in c.cellAttrs){if((typeof c.cellAttrs[a])=="string"){s="td."+a+"='"+c.cellAttrs[a]+"'"}else{s="td."+a+"="+c.cellAttrs[a]}eval(s)}}else{td.vAlign="top"}this.getRow(curRow).appendChild(td);return td}});
Ext.Container.Layouts.parftable=Ext.parf.layout.TableExLayout;Ext.parf.layout.CenterLayout=Ext.extend(Ext.layout.TableLayout,{tableAttrs:{style:{width:"100%"}},columns:1,getNextCell:function(c){var cell=this.getNextNonSpan(this.currentColumn,this.currentRow);var curCol=this.currentColumn=cell[0],curRow=this.currentRow=cell[1];for(var rowIndex=curRow;rowIndex<curRow+(c.rowspan||1);rowIndex++){if(!this.cells[rowIndex]){this.cells[rowIndex]=[]}for(var colIndex=curCol;colIndex<curCol+(c.colspan||1);colIndex++){this.cells[rowIndex][colIndex]=true}}var td=document.createElement("td");if(c.cellId){td.id=c.cellId}var cls="x-table-layout-cell";if(c.cellCls){cls+=" "+c.cellCls}td.className=cls;if(c.colspan){td.colSpan=c.colspan}if(c.rowspan){td.rowSpan=c.rowspan}if(c.cellAttrs){var s="";for(a in c.cellAttrs){if((typeof c.cellAttrs[a])=="string"){s="td."+a+"='"+c.cellAttrs[a]+"'"}else{s="td."+a+"="+c.cellAttrs[a]}eval(s)}}else{td.vAlign="top";td.align="center"}this.getRow(curRow).appendChild(td);return td}});
Ext.Container.Layouts.parfcenter=Ext.parf.layout.CenterLayout;

Ext.namespace("Ext.parf.form");
Ext.parf.form.StoreThreeComboBox=Ext.extend(Ext.form.Field,{alignMode:"h",initComponent:function(){if(this.storeurl){var d={storeurl:this.storeurl,displayField:"REFERENCEVALUE",valueField:"REFERENCEID"};d.storeParams=Ext.apply({PARENTCODE:this.rootId,LEVEL:"1"},this.storeParams);if(this.comboconf1==null){this.comboconf1=d}else{this.comboconf1=Ext.apply(this.comboconf1,d)}var c={storeurl:this.storeurl,displayField:"REFERENCEVALUE",valueField:"REFERENCEID"};c.storeParams=Ext.apply({LEVEL:"2"},this.storeParams);if(this.comboconf2==null){this.comboconf2=c}else{this.comboconf2=Ext.apply(this.comboconf2,c)}var b={storeurl:this.storeurl,displayField:"REFERENCEVALUE",valueField:"REFERENCEID"};b.storeParams=Ext.apply({LEVEL:"3"},this.storeParams);if(this.comboconf3==null){this.comboconf3=b}else{this.comboconf3=Ext.apply(this.comboconf3,b)}this.select1Para="PARENTCODE";this.select2Para="PARENTCODE"}else{if(this.dictId){var d={dictId:this.dictId,dictParas:{PARENTCODE:this.rootId,LEVEL:"1"}};if(this.comboconf1==null){this.comboconf1=d}else{this.comboconf1=Ext.apply(this.comboconf1,d)}var c={dictId:this.dictId,dictParas:{LEVEL:"2"}};if(this.comboconf2==null){this.comboconf2=c}else{this.comboconf2=Ext.apply(this.comboconf2,c)}var b={dictId:this.dictId,dictParas:{LEVEL:"3"}};if(this.comboconf3==null){this.comboconf3=b}else{this.comboconf3=Ext.apply(this.comboconf3,b)}this.select1Para="PARENTCODE";this.select2Para="PARENTCODE"}else{if(!this.comboconf1){alert("请设置comboconf1属性！");return}if(!this.comboconf2){alert("请设置comboconf2属性！");return}if(!this.comboconf3){alert("请设置comboconf3属性！");return}}}this.comboconf1=Ext.apply(this.comboconf1,{submitValue:false});this.comboconf2=Ext.apply(this.comboconf2,{submitValue:false,storeAutoLoad:false});this.comboconf3=Ext.apply(this.comboconf3,{submitValue:false,storeAutoLoad:false});if(this.comboconf1.allowBlank===false&&this.fieldLabel){this.fieldLabel=this.fieldLabel+" <font color=red>(*)</font> "}this.ComboBox1=new Ext.parf.form.StoreComboBox(this.comboconf1);this.ComboBox2=new Ext.parf.form.StoreComboBox(this.comboconf2);this.ComboBox3=new Ext.parf.form.StoreComboBox(this.comboconf3);this.hiddenField=new Ext.form.Hidden({name:this.name});this.items=[this.ComboBox1,this.ComboBox2,this.ComboBox3,this.hiddenField];this.ComboBox1.on("select",this.evt_combo1_select,this);this.ComboBox2.on("select",this.evt_combo2_select,this);this.ComboBox3.on("select",this.evt_combo3_select,this);Ext.parf.form.StoreThreeComboBox.superclass.initComponent.call(this)},init:function(){var c=this.ComboBox2.getValue();this.ComboBox2.clearValue();Ext.parf.setProperty(this.ComboBox2.store.baseParams,this.select1Para,this.ComboBox1.getValue());this.ComboBox2.store.reload();(function(){this.ComboBox2.setValue(c)}).defer(500,this);var b=this.ComboBox3.getValue();this.ComboBox3.clearValue();Ext.parf.setProperty(this.ComboBox3.store.baseParams,this.select2Para,c);this.ComboBox3.store.reload();(function(){this.ComboBox3.setValue(b)}).defer(500,this)},evt_combo1_select:function(d,b,c){this.ComboBox2.clearValue();this.ComboBox3.clearValue();Ext.parf.setProperty(this.ComboBox2.store.baseParams,this.select1Para,d.getValue());this.ComboBox2.store.reload();this.ComboBox3.store.removeAll();var e=this.ComboBox1.value;this.hiddenField.setValue(e)},evt_combo2_select:function(d,b,c){this.ComboBox3.clearValue();Ext.parf.setProperty(this.ComboBox3.store.baseParams,this.select2Para,d.getValue());this.ComboBox3.store.reload();var e=this.ComboBox1.value+","+this.ComboBox2.value;this.hiddenField.setValue(e)},evt_combo3_select:function(d,b,c){var e=this.ComboBox1.value+","+this.ComboBox2.value+","+this.ComboBox3.value;this.hiddenField.setValue(e)},onRender:function(e,c){if(!this.el){if(this.alignMode=="h"){this.innerCt=new Ext.Panel({renderTo:e,layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0"})}if(this.alignMode=="v"){this.innerCt=new Ext.Panel({renderTo:e,items:this.items,defaultMargins:"1 3 1 1"})}var f=this.innerCt;this.el=f.getEl();var b=f.findBy(function(g){return g.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(b);if(this.combineErrors){this.eachItem(function(g){Ext.apply(g,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[g],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[g],0)})})}var d=this.el.parent().parent().child("label",true);if(d){d.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},setValue:function(c){var b=c.split(",");if(Ext.isArray(b)){var d=b.length;if(d>0){this.ComboBox1.setValue(b[0])}if(d>1){this.ComboBox2.setValue(b[1])}if(d>2){this.ComboBox3.setValue(b[2])}}else{this.ComboBox1.setValue(c)}this.hiddenField.setValue(c);this.init()}});Ext.reg("parf-store-threecombo",Ext.parf.form.StoreThreeComboBox);Ext.namespace("Ext.parf.form");Ext.parf.form.StoreTwoComboBox=Ext.extend(Ext.form.Field,{alignMode:"h",initComponent:function(){this.hiddencombo=new Ext.form.Hidden({name:this.name});if(this.storeurl){var c={storeurl:this.storeurl,displayField:"REFERENCEVALUE",valueField:"REFERENCEID"};c.storeParams=Ext.apply({PARENTCODE:this.rootId,LEVEL:"1"},this.storeParams);if(this.comboconf1==null){this.comboconf1=c}else{this.comboconf1=Ext.apply(this.comboconf1,c)}var b={storeurl:this.storeurl,displayField:"REFERENCEVALUE",valueField:"REFERENCEID"};b.storeParams=Ext.apply({LEVEL:"2"},this.storeParams);if(this.comboconf2==null){this.comboconf2=b}else{this.comboconf2=Ext.apply(this.comboconf2,b)}this.select1Para="PARENTCODE"}else{if(this.dictId){var c={dictId:this.dictId,dictParas:{PARENTCODE:this.rootId,LEVEL:"1"}};if(this.comboconf1==null){this.comboconf1=c}else{this.comboconf1=Ext.apply(this.comboconf1,c)}var b={dictId:this.dictId,dictParas:{LEVEL:"2"}};if(this.comboconf2==null){this.comboconf2=b}else{this.comboconf2=Ext.apply(this.comboconf2,b)}this.select1Para="PARENTCODE"}else{if(!this.comboconf1){alert("请设置comboconf1属性！");return}if(!this.comboconf2){alert("请设置comboconf2属性！");return}}}this.comboconf1=Ext.apply(this.comboconf1,{submitValue:false});this.comboconf2=Ext.apply(this.comboconf2,{submitValue:false,storeAutoLoad:false});if(this.comboconf1.allowBlank===false&&this.fieldLabel){this.fieldLabel=this.fieldLabel+" <font color=red>(*)</font> "}this.ComboBox1=new Ext.parf.form.StoreComboBox(this.comboconf1);this.ComboBox2=new Ext.parf.form.StoreComboBox(this.comboconf2);this.hiddenField=new Ext.form.Hidden({name:this.name});this.items=[this.ComboBox1,this.ComboBox2,this.hiddenField];this.ComboBox1.on("select",this.evt_combo1_select,this);this.ComboBox2.on("select",this.evt_combo2_select,this);Ext.parf.form.StoreTwoComboBox.superclass.initComponent.call(this)},evt_combo1_select:function(d,b,c){this.ComboBox2.clearValue();Ext.parf.setProperty(this.ComboBox2.store.baseParams,this.select1Para,d.getValue());this.ComboBox2.store.reload();var e=this.ComboBox1.value;this.hiddenField.setValue(e)},evt_combo2_select:function(d,b,c){var e=this.ComboBox1.value+","+this.ComboBox2.value;this.hiddenField.setValue(e)},onRender:function(e,c){if(!this.el){if(this.alignMode=="h"){this.innerCt=new Ext.Panel({renderTo:e,layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0"})}if(this.alignMode=="v"){this.innerCt=new Ext.Panel({renderTo:e,items:this.items,defaultMargins:"1 3 1 1"})}var f=this.innerCt;this.el=f.getEl();var b=f.findBy(function(g){return g.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(b);if(this.combineErrors){this.eachItem(function(g){Ext.apply(g,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[g],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[g],0)})})}var d=this.el.parent().parent().child("label",true);if(d){d.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},init:function(){var b=this.ComboBox2.getValue();this.ComboBox2.clearValue();Ext.parf.setProperty(this.ComboBox2.store.baseParams,this.select1Para,this.ComboBox1.getValue());this.ComboBox2.store.reload();(function(){this.ComboBox2.setValue(b)}).defer(500,this)},setValue:function(c){var b=c.split(",");if(Ext.isArray(b)){var d=b.length;if(d>0){this.ComboBox1.setValue(b[0])}if(d>1){this.ComboBox2.setValue(b[1])}else{this.ComboBox2.setValue("")}}else{this.ComboBox1.setValue(c);this.ComboBox2.setValue("")}this.hiddenField.setValue(c);this.init()}});Ext.reg("parf-store-twocombo",Ext.parf.form.StoreTwoComboBox);
Ext.apply(Ext.form.VTypes,{password:function(d,c){if(c.initialPassField){var b=Ext.getCmp(c.initialPassField);return(d==b.getValue())}return true},passwordText:"两次输入的密码不一致！",chinese:function(d,c){var b=/^[\u4e00-\u9fa5]+$/i;if(!b.test(d)){return false}return true},chineseText:"请输入中文",age:function(d,c){try{if(parseInt(d)>=0&&parseInt(d)<200){return true}return false}catch(b){return false}},ageText:"年龄输入有误",max:function(d,c){try{if(parseFloat(d)<=parseFloat(c.max)){return true}return false}catch(b){return false}},maxText:"超过最大值",min:function(d,c){try{if(parseFloat(d)>=parseFloat(c.min)){return true}return false}catch(b){return false}},minText:"小于最小值",datecn:function(h,f){try{var b=/^(\d{4})-(\d{2})-(\d{2})$/;if(!b.test(h)){return false}var g=new Date(h.replace(b,"$1/$2/$3"));return(parseInt(RegExp.$2,10)==(1+g.getMonth()))&&(parseInt(RegExp.$3,10)==g.getDate())&&(parseInt(RegExp.$1,10)==g.getFullYear())}catch(c){return false}},datecnText:"请使用这样的日期格式: yyyy-mm-dd. 例如:2008-06-20.",integer:function(d,c){try{if(/^[-+]?[\d]+$/.test(d)){return true}return false}catch(b){return false}},integerText:"请输入正确的整数",ip:function(b){return/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(b)},ipText:"请输入正确的IP地址格式，例如：222.192.42.12",ipMask:/[0-9\.]/i,postcode:function(b){return/^[1-9]\d{5}$/.test(b)},postcodeText:"请输入正确的邮政编码格式，例如：226001",postcodeMask:/[0-9]/i,telephone:function(b){return/(^\d{3}\-\d{7,8}$)|(^\d{4}\-\d{7,8}$)|(^\d{3}\d{7,8}$)|(^\d{4}\d{7,8}$)|(^\d{7,8}$)/.test(b)},telephoneText:"请输入正确的电话号码格式，例如：0513-89500414,051389500414,89500414",telephoneMask:/[0-9\-]/i,mobile:function(b){return/^1[35][0-9]\d{8}$/.test(b)},mobileText:"请输入正确的手机号码格式，例如：13485135075",mobileMask:/[0-9]/i,IDCard:function(e){var f={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};var g,c;var d,h;var b=new Array();b=e.split("");if(f[parseInt(e.substr(0,2))]==null){this.IDCardText="身份证号码地区非法!!,格式例如:32";return false}switch(e.length){case 15:if((parseInt(e.substr(6,2))+1900)%4==0||((parseInt(e.substr(6,2))+1900)%100==0&&(parseInt(e.substr(6,2))+1900)%4==0)){ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/}else{ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/}if(ereg.test(e)){return true}else{this.IDCardText="身份证号码出生日期超出范围,格式例如:19860817";return false}break;case 18:if(parseInt(e.substr(6,4))%4==0||(parseInt(e.substr(6,4))%100==0&&parseInt(e.substr(6,4))%4==0)){ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/}else{ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/}if(ereg.test(e)){d=(parseInt(b[0])+parseInt(b[10]))*7+(parseInt(b[1])+parseInt(b[11]))*9+(parseInt(b[2])+parseInt(b[12]))*10+(parseInt(b[3])+parseInt(b[13]))*5+(parseInt(b[4])+parseInt(b[14]))*8+(parseInt(b[5])+parseInt(b[15]))*4+(parseInt(b[6])+parseInt(b[16]))*2+parseInt(b[7])*1+parseInt(b[8])*6+parseInt(b[9])*3;g=d%11;h="F";c="10X98765432";h=c.substr(g,1);if(h==b[17]){return true}else{this.IDCardText="身份证号码末位校验位校验出错,请注意x的大小写,格式例如:201X";return false}}else{this.IDCardText="身份证号码出生日期超出范围,格式例如:19860817";return false}break;default:this.IDCardText="身份证号码位数不对,应该为15位或是18位";return false;break}},IDCardText:"请输入正确的身份证号码格式，例如：32082919860817201x",IDCardMask:/[0-9xX]/i,daterange:function(e,d){var b=d.parent.fdField.getValue();var c=d.parent.tdField.getValue();if(b==""||c==""){return true}if(b>c){return false}else{return true}},daterangeText:"起始日期不能大于终止日期"});
Ext.ns("Ext.parf.window");
Ext.parf.window.MessageWindowGroup=function(d){d=d||{};var c=new Ext.WindowGroup();c.positions=[];Ext.apply(c,d);return c};Ext.parf.window.MessageWindowMgr=Ext.parf.window.MessageWindowGroup();Ext.parf.window.MessageWindow=Ext.extend(Ext.Window,{hideAction:"close",autoHide:true,autoHeight:false,bodyStyle:"text-align:left;padding:10px;",buttonAlign:"center",cls:"x-notification",constrain:true,constrainHeader:true,draggable:true,floating:true,frame:true,handleHelp:Ext.emptyFn,help:true,hideFx:{delay:5000},hoverCls:"msg-over",iconCls:"x-icon-information",minHeight:40,minWidth:200,msgs:[],monitorResize:true,pinOnClick:true,pinState:"unpin",plain:false,resizable:false,textHelp:"Get help",textPin:"Pin this to prevent closing",textUnpin:"Unpin this to close",initHidden:true,initComponent:function(){Ext.apply(this,{collapsible:false,footer:false,minHeight:20,stateful:false});if(this.interval){this.startAutoRefresh()}if(this.autoHide){if(this.pinState==="unpin"){this.task=new Ext.util.DelayedTask(this[this.hideAction],this,[this.animateTarget])}}else{this.closable=true}Ext.parf.window.MessageWindow.superclass.initComponent.call(this);this.on({mouseout:{scope:this,fn:this.onMouseout}});this.addEvents("afterpin","afterunpin","click");this.initFx()},initEvents:function(){this.manager=this.manager||Ext.parf.window.MessageWindowMgr;Ext.parf.window.MessageWindow.superclass.initEvents.call(this)},focus:function(){Ext.parf.window.MessageWindow.superclass.focus.call(this)},toFront:function(){if(this.manager.bringToFront(this)){if(this.focusOnShow){this.focus()}}return this},initTools:function(){if(this.pinOnClick){this.addTool({id:"unpin",handler:this.handlePin,hidden:(!this.pinState||this.pinState==="pin"),qtip:this.textPin,scope:this});this.addTool({id:"pin",handler:this.handleUnpin,hidden:(!this.pinState||this.pinState==="unpin"),qtip:this.textUnpin,scope:this})}if(this.help){this.addTool({id:"help",handler:this.handleHelp,qtip:this.textHelp,scope:this})}Ext.parf.window.MessageWindow.superclass.initTools.apply(this,arguments)},onRender:function(d,c){Ext.parf.window.MessageWindow.superclass.onRender.call(this,d,c);if(this.clip){switch(this.clip){case"bottom":Ext.destroy(this.getEl().child("."+this.baseCls+"-bl"));break}}if(true){this.el.addClassOnOver(this.hoverCls)}Ext.fly(this.body.dom).on("click",this.handleClick,this)},close:function(b){if(this.fireEvent("beforeclose",this)!==false){this.hide(b,function(){this.fireEvent("close",this);this.destroy()},this)}},togglePinState:function(b){if(this.pinOnClick){if(this.tools.unpin.isVisible()){this.handlePin(b,this.tools.unpin,this)}else{this.handleUnpin(b,this.tools.pin,this)}}},createElement:function(d,c){if(this.shiftHeader){switch(d){case"header":return;case"tbar":Ext.parf.window.MessageWindow.superclass.createElement.call(this,"header",c);Ext.parf.window.MessageWindow.superclass.createElement.call(this,d,c);return}}Ext.parf.window.MessageWindow.superclass.createElement.call(this,d,c)},focus:Ext.emptyFn,getState:function(){return Ext.apply(Ext.parf.window.MessageWindow.superclass.getState.call(this)||{},this.getBox())},handleClick:function(b){this.fireEvent("click",this,this.msg);this.togglePinState(b)},handlePin:function(e,d,f){d.hide();this.tools.pin.show();this.cancelHiding();this.fireEvent("afterpin",this)},handleUnpin:function(e,d,f){d.hide();this.tools.unpin.show();this[this.hideAction](this.animateTarget);this.fireEvent("afterunpin",this)},cancelHiding:function(){this.addClass("fixed");if(this.autoHide){if(this.pinState==="unpin"){this.task.cancel()}}if(this.tools.pin){this.tools.pin.show()}if(this.tools.unpin){this.tools.unpin.hide()}},initFx:function(){this.showFx=this.showFx||{};Ext.applyIf(this.showFx,{align:"b",duration:1,callback:this.afterShow,scope:this});this.hideFx=this.hideFx||{};Ext.applyIf(this.hideFx,{block:false,callback:this.afterHide,easing:"easeOut",remove:true,scope:this});this.origin=this.origin||{};Ext.applyIf(this.origin,{el:Ext.getDoc(),increment:true,pos:"br-br",offX:-20,offY:-20,spaY:5})},getAnimEl:function(e){var d;if(e.useProxy){d=this.proxy;this.proxy.setOpacity(0.5);this.proxy.show();var f=this.getBox(false);this.proxy.setBox(f);this.el.hide()}else{d=this.el}return d},animHide:function(){this.manager.positions.remove(this.pos);var c=this.hideFx,b=this.getAnimEl(c);switch(c.mode){case"none":break;case"slideIn":b[c.mode]("b",c);break;case"custom":Ext.callback(c.callback,c.scope,[this,b,c]);break;case"standard":c.duration=c.duration||0.25;c.opacity=0;b.shift(c);break;default:c.duration=c.duration||1;b.ghost("b",c);break}},afterShow:function(){Ext.parf.window.MessageWindow.superclass.afterShow.call(this);this.on("move",function(){this.manager.positions.remove(this.pos);this.cancelHiding()},this);if(this.autoHide){if(this.pinState==="unpin"){this.task.delay(this.hideFx.delay)}}},animShow:function(){if(this.el.isVisible()&&this.el.hasClass(this.hoverCls)){return}if(this.msgs.length>1){this.updateMsg()}var b=this.showFx,c=this.el;this.position(c);c.slideIn(b.align,b)},position:function(b){var d,c=(this.showFx.align.substr(0,1)=="t")?1:-1;this.pos=0;if(this.origin.increment){while(this.manager.positions.indexOf(this.pos)>-1){this.pos++}this.manager.positions.push(this.pos)}this.setSize(this.width||this.minWidth,this.height||this.minHeight);if(this.origin.increment){d=this.origin.offY+((this.getSize().height+this.origin.spaY)*this.pos*c)}else{d=0}b.alignTo(this.origin.el,this.origin.pos,[this.origin.offX,d])},onMouseout:function(){},positionPanel:function(c,b,e){if(b&&typeof b[1]=="number"){e=b[1];b=b[0]}c.pageX=b;c.pageY=e;if(b===undefined||e===undefined){return}if(e<0){e=10}var d=c.translatePoints(b,e);c.setLocation(d.left,d.top);return c},setMessage:function(b){this.body.update(b)},setTitle:function(d,c){Ext.parf.window.MessageWindow.superclass.setTitle.call(this,d,c||this.iconCls)},startAutoRefresh:function(b){if(b){this.updateMsg(true)}if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId)}this.autoRefreshProcId=setInterval(this.animShow.createDelegate(this,[]),this.interval)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId)}},updateMsg:function(b){if(this.el&&!this.el.hasClass(this.hoverCls)){if(b){}else{this.msgIndex=this.msgs[this.msgIndex+1]?this.msgIndex+1:0;this.msg=this.msgs[this.msgIndex]}this.body.update(this.msg.text)}else{}}});Ext.reg("message-window",Ext.parf.window.MessageWindow);Ext.apply(Ext.util.Format,{qwarefilesize:function(b){if(b==null){return""}else{return this.fileSize(b)}},javaDate:function(b,d){var c;if(Ext.isEmpty(b)){return""}else{if(Ext.isEmpty(b.time)){c=new Date(b)}else{c=new Date(b.time)}}return c.format(d||"Y-m-d H:i:s")}});Ext.namespace("Ext.parf.patch");Ext.parf.patch=function(){return{getStartGroup:function(b,d){var c=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',b,'</div></div><div id="{groupId}-bd" class="x-grid-group-body">',d);return c}}}();Ext.namespace("Ext.parf.reflect");Ext.parf.reflect.ExtCmp=function(){if(arguments.length<2){alert("Ext.parf.reflect.ExtCmp: Arguments error");return}if(typeof arguments[0]!=="string"||typeof arguments[1]!=="string"){alert("Ext.parf.reflect.ExtCmp: Arguments 0 and 1 must be string ");return}var b=Ext.getCmp(arguments[0]);if(Ext.isEmpty(b)){alert("Ext.parf.reflect.ExtCmp: Can not find Ext CMP "+arguments[0]);return}var c=b[arguments[1]];if(!Ext.isFunction(c)){alert("Ext.parf.reflect.ExtCmp: Can not find method "+arguments[1]+" of Ext CMP "+arguments[0]);return}var d=[].slice.apply(arguments);c.apply(b,d.slice(2,d.length))};Ext.namespace("Ext.parf.portal");Ext.parf.portal.Portal=Ext.extend(Ext.Panel,{layout:"column",autoScroll:true,cls:"x-portal",defaultType:"parf-portal",initComponent:function(){Ext.parf.portal.Portal.superclass.initComponent.call(this);this.addEvents({validatedrop:true,beforedragover:true,dragover:true,beforedrop:true,drop:true})},initEvents:function(){Ext.parf.portal.Portal.superclass.initEvents.call(this);this.dd=new Ext.parf.portal.Portal.DropZone(this,this.dropConfig)},beforeDestroy:function(){if(this.dd){this.dd.unreg()}Ext.parf.portal.Portal.superclass.beforeDestroy.call(this)}});Ext.reg("parf-portal",Ext.parf.portal.Portal);Ext.parf.portal.Portal.DropZone=function(b,c){this.portal=b;Ext.dd.ScrollManager.register(b.body);Ext.parf.portal.Portal.DropZone.superclass.constructor.call(this,b.bwrap.dom,c);b.body.ddScrollConfig=this.ddScrollConfig};Ext.extend(Ext.parf.portal.Portal.DropZone,Ext.dd.DropTarget,{ddScrollConfig:{vthresh:50,hthresh:-1,animate:true,increment:200},createEvent:function(b,g,f,d,j,h){return{portal:this.portal,panel:f.panel,columnIndex:d,column:j,position:h,data:f,source:b,rawEvent:g,status:this.dropAllowed}},notifyOver:function(x,v,y){var g=v.getXY(),b=this.portal,q=x.proxy;if(!this.grid){this.grid=this.getGrid()}var d=b.body.dom.clientWidth;if(!this.lastCW){this.lastCW=d}else{if(this.lastCW!=d){this.lastCW=d;b.doLayout();this.grid=this.getGrid()}}var f=0,n=this.grid.columnX,o=false;for(var u=n.length;f<u;f++){if(g[0]<(n[f].x+n[f].w)){o=true;break}}if(!o){f--}var s,m=false,k=0,w=b.items.itemAt(f),r=w.items.items,l=false;for(var u=r.length;k<u;k++){s=r[k];var t=s.el.getHeight();if(t===0){l=true}else{if((s.el.getY()+(t/2))>g[1]){m=true;break}}}k=(m&&s?k:w.items.getCount())+(l?-1:0);var j=this.createEvent(x,v,y,f,w,k);if(b.fireEvent("validatedrop",j)!==false&&b.fireEvent("beforedragover",j)!==false){q.getProxy().setWidth("auto");if(s){q.moveProxy(s.el.dom.parentNode,m?s.el.dom:null)}else{q.moveProxy(w.el.dom,null)}this.lastPos={c:w,col:f,p:l||(m&&s)?k:false};this.scrollPos=b.body.getScroll();b.fireEvent("dragover",j);return j.status}else{return j.status}},notifyOut:function(){delete this.grid},notifyDrop:function(m,h,g){delete this.grid;if(!this.lastPos){return}var k=this.lastPos.c,f=this.lastPos.col,l=this.lastPos.p;var b=this.createEvent(m,h,g,f,k,l!==false?l:k.items.getCount());if(this.portal.fireEvent("validatedrop",b)!==false&&this.portal.fireEvent("beforedrop",b)!==false){m.proxy.getProxy().remove();m.panel.el.dom.parentNode.removeChild(m.panel.el.dom);if(l!==false){if(k==m.panel.ownerCt&&(k.items.items.indexOf(m.panel)<=l)){l++}k.insert(l,m.panel)}else{k.add(m.panel)}k.doLayout();this.portal.fireEvent("drop",b);var n=this.scrollPos.top;if(n){var j=this.portal.body.dom;setTimeout(function(){j.scrollTop=n},10)}}delete this.lastPos},getGrid:function(){var b=this.portal.bwrap.getBox();b.columnX=[];this.portal.items.each(function(d){b.columnX.push({x:d.el.getX(),w:d.el.getWidth()})});return b},unreg:function(){Ext.parf.portal.Portal.DropZone.superclass.unreg.call(this)}});Ext.namespace("Ext.parf.portal");Ext.parf.portal.PortalColumn=Ext.extend(Ext.Container,{layout:"anchor",defaultType:"parf-portlet",cls:"x-portal-column"});Ext.reg("parf-portalcolumn",Ext.parf.portal.PortalColumn);Ext.namespace("Ext.parf.portal");Ext.parf.portal.Portlet=Ext.extend(Ext.Panel,{anchor:"100%",frame:true,collapsible:true,draggable:true,cls:"x-portlet"});Ext.reg("parf-portlet",Ext.parf.portal.Portlet);

(function(){
Ext.namespace("Ext.parf.form");
var d=false;var c;var b;
Ext.parf.form.TinyMCE=Ext.extend(Ext.form.Field,{
	tinymceSettings:null,allowBlank:true,invalidText:"这个域的值是无效值",invalidClass:"invalid-content-body",minLengthText:"这个域值最小长度是 {0}",maxLengthText:"这个域值最大长度是 {0}",blankText:"这个域必须输入",hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:1px;height:1px;",autocomplete:"off"},constructor:function(e){var f={tinymceSettings:{accessibility_focus:false}};Ext.apply(f,e);this.addEvents({editorcreated:true});
Ext.parf.form.TinyMCE.superclass.constructor.call(this,f)},initComponent:function(){this.tinymceSettings=this.tinymceSettings||{};
Ext.parf.form.TinyMCE.initTinyMCE({language:this.tinymceSettings.language})},initEvents:function(){this.originalValue=this.getValue()},onRender:function(f,e){
	Ext.parf.form.TinyMCE.superclass.onRender.call(this,f,e);if(Ext.type(this.width)=="number"){this.tinymceSettings.width=this.width}if(Ext.type(this.height)=="number"){this.tinymceSettings.height=this.height}var h=this.getId();this.ed=new tinymce.Editor(h,this.tinymceSettings);var g=new Ext.util.DelayedTask(this.validate,this);this.ed.onKeyPress.add(function(k,j){g.delay(250)}.createDelegate(this));this.ed.onBeforeRenderUI.add(function(k,j){k.controlManager=new b(this,k)}.createDelegate(this));this.ed.onPostRender.add(function(k,j){var l=k.settings;k.windowManager=new c({editor:this.ed,manager:this.manager});Ext.get(k.getContentAreaContainer()).addClass("patch-content-body");Ext.Element.fly(l.content_editable?k.getBody():k.getWin()).on("focus",this.onFocus,this);Ext.Element.fly(l.content_editable?k.getBody():k.getWin()).on("blur",this.onBlur,this,this.inEditor&&Ext.isWindows&&Ext.isGecko?{buffer:10}:null)}.createDelegate(this));this.ed.onChange.add(function(k,j){this.fireEvent("change",k,j)}.createDelegate(this));this.ed.render();tinyMCE.add(this.ed)},initValue:function(){if(!this.rendered){
		Ext.parf.form.TinyMCE.superclass.initValue.call(this)}else{if(this.value!==undefined){this.setValue(this.value)}else{var e=this.el.value;if(e){this.setValue(e)}}}},beforeDestroy:function(){if(this.ed){tinyMCE.remove(this.ed)}
		Ext.parf.form.TinyMCE.superclass.beforeDestroy.call(this)},getRawValue:function(){if(!this.rendered||!this.ed.initialized){return Ext.value(this.value,"")}var e=this.ed.getContent();if(e===this.emptyText){e=""}return e},getValue:function(){if(!this.rendered||!this.ed.initialized){return Ext.value(this.value,"")}var e=this.ed.getContent();if(e===this.emptyText||e===undefined){e=""}return e},setRawValue:function(e){this.value=e;if(this.rendered){this.withEd(function(){this.ed.undoManager.clear();this.ed.setContent(e===null||e===undefined?"":e);this.ed.startContent=this.ed.getContent({format:"raw"})})}},setValue:function(e){this.value=e;if(this.rendered){this.withEd(function(){this.ed.undoManager.clear();this.ed.setContent(e===null||e===undefined?"":e);this.ed.startContent=this.ed.getContent({format:"raw"});this.validate()})}},isDirty:function(){if(this.disabled||!this.rendered){return false}return this.ed&&this.ed.initialized&&this.ed.isDirty()},syncValue:function(){if(this.rendered&&this.ed.initialized){this.ed.save()}},getEd:function(){return this.ed},disable:function(){this.withEd(function(){var e=this.ed.getBody();e=Ext.get(e);if(e.hasClass("mceContentBody")){e.removeClass("mceContentBody");e.addClass("mceNonEditable")}})},enable:function(){this.withEd(function(){var e=this.ed.getBody();e=Ext.get(e);if(e.hasClass("mceNonEditable")){e.removeClass("mceNonEditable");e.addClass("mceContentBody")}})},focus:function(f,e){if(e){this.focus.defer(typeof e=="number"?e:10,this,[f,false]);return}this.withEd(function(){this.ed.focus()});return this},processValue:function(e){return Ext.util.Format.stripTags(e)},validateValue:function(e){if(Ext.isFunction(this.validator)){var g=this.validator(e);if(g!==true){this.markInvalid(g);return false}}if(e.length<1||e===this.emptyText){if(this.allowBlank){this.clearInvalid();return true}else{this.markInvalid(this.blankText);return false}}if(e.length<this.minLength){this.markInvalid(String.format(this.minLengthText,this.minLength));return false}if(e.length>this.maxLength){this.markInvalid(String.format(this.maxLengthText,this.maxLength));return false}if(this.vtype){var f=Ext.form.VTypes;if(!f[this.vtype](e,this)){this.markInvalid(this.vtypeText||f[this.vtype+"Text"]);return false}}if(this.regex&&!this.regex.test(e)){this.markInvalid(this.regexText);return false}return true},withEd:function(e){if(!this.ed){this.on("editorcreated",function(){this.withEd(e)},this)}else{if(this.ed.initialized){e.call(this)}else{this.ed.onInit.add(function(){e.defer(10,this)}.createDelegate(this))}}}});
Ext.apply(Ext.parf.form.TinyMCE,{tinymcePlugins:"",initTinyMCE:function(f){if(!d){c=Ext.extend(tinymce.WindowManager,{constructor:function(g){c.superclass.constructor.call(this,g.editor);this.manager=g.manager},alert:function(h,g,j){Ext.MessageBox.alert("",h,function(){if(!Ext.isEmpty(g)){g.call(this)}},j)},confirm:function(h,g,j){Ext.MessageBox.confirm("",h,function(k){if(!Ext.isEmpty(g)){g.call(this,k=="yes")}},j)},open:function(g,j){g=g||{};j=j||{};if(!g.type){this.bookmark=this.editor.selection.getBookmark("simple")}g.width=parseInt(g.width||320);g.height=parseInt(g.height||240)+(tinymce.isIE?8:0);g.min_width=parseInt(g.min_width||150);g.min_height=parseInt(g.min_height||100);g.max_width=parseInt(g.max_width||2000);g.max_height=parseInt(g.max_height||2000);g.movable=true;g.resizable=true;j.mce_width=g.width;j.mce_height=g.height;j.mce_inline=true;this.features=g;this.params=j;var h=new Ext.Window({title:g.name,width:g.width,height:g.height,minWidth:g.min_width,minHeight:g.min_height,resizable:true,maximizable:g.maximizable,minimizable:g.minimizable,modal:true,stateful:false,constrain:true,manager:this.manager,layout:"fit",items:[new Ext.BoxComponent({autoEl:{tag:"iframe",src:g.url||g.file},style:"border-width: 0px;"})]});j.mce_window_id=h.getId();h.show(null,function(){if(g.left&&g.top){h.setPagePosition(g.left,g.top)}var k=h.getPosition();g.left=k[0];g.top=k[1];this.onOpen.dispatch(this,g,j)},this);return h},close:function(h){if(!h.tinyMCEPopup||!h.tinyMCEPopup.id){c.superclass.close.call(this,h);return}var g=Ext.getCmp(h.tinyMCEPopup.id);if(g){this.onClose.dispatch(this);g.close()}},setTitle:function(j,h){if(!j.tinyMCEPopup||!j.tinyMCEPopup.id){c.superclass.setTitle.call(this,j,h);return}var g=Ext.getCmp(j.tinyMCEPopup.id);if(g){g.setTitle(h)}},resizeBy:function(h,k,l){var g=Ext.getCmp(l);if(g){var j=g.getSize();g.setSize(j.width+h,j.height+k)}},focus:function(h){var g=Ext.getCmp(h);if(g){g.setActive(true)}}});b=Ext.extend(tinymce.ControlManager,{control:null,constructor:function(j,g,h){this.control=j;b.superclass.constructor.call(this,g,h)},createDropMenu:function(k,h){var g=b.superclass.createDropMenu.call(this,k,h);var j=g.showMenu;g.showMenu=function(l,n,m){j.call(this,l,n,m);Ext.fly("menu_"+this.id).setStyle("z-index",200001)};return g},createColorSplitButton:function(k,h){var g=b.superclass.createColorSplitButton.call(this,k,h);var j=g.showMenu;g.showMenu=function(l,n,m){j.call(this,l,n,m);Ext.fly(this.id+"_menu").setStyle("z-index",200001)};return g}});
var e={mode:"none",plugins:Ext.parf.form.TinyMCE.tinymcePlugins,theme:"advanced"};
Ext.apply(e,f);if(!tinymce.dom.Event.domLoaded){tinymce.dom.Event._pageInit();}tinyMCE.init(e);d=true;}}});
Ext.ComponentMgr.registerType("tinymce",Ext.parf.form.TinyMCE);
})();
Ext.parf.form.TinyMCE.simpleSetting={theme:"advanced",language:"zh-cn",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,formatselect,fontselect,fontsizeselect,|,bullist,numlist,|,forecolor,|,code",theme_advanced_buttons2:"",theme_advanced_fonts:"宋体,仿宋_GB2312,黑体,隶书,楷体_GB2312,新宋体,幼圆",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",verify_html:false,convert_newlines_to_brs:true,force_br_newlines:true,force_p_newlines:false,forced_root_block:"",theme_advanced_source_editor_height:450,theme_advanced_source_editor_width:720};
Ext.parf.form.TinyMCE.EditorSetting={theme:"advanced",language:"zh-cn",plugins:"lists,advlist,nonbreaking,parmtemplate,parmimage,parmflash,advimage",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,|,formatselect,fontselect,fontsizeselect,|,code",theme_advanced_buttons2:"outdent,indent,|,forecolor,backcolor,|,bullist,numlist,|,nonbreaking,charmap,|,link,unlink,anchor,|,image,parmimage,|,parmflash",theme_advanced_buttons3:"",theme_advanced_fonts:"宋体,仿宋_GB2312,黑体,隶书,楷体_GB2312,新宋体,幼圆",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",verify_html:false,convert_newlines_to_brs:true,force_br_newlines:true,force_p_newlines:false,forced_root_block:"",theme_advanced_source_editor_height:450,theme_advanced_source_editor_width:720};

HighchartsAdapter={each:Ext.each,map:function(c,f){var e=[];if(c){for(var d=0,b=c.length;d<b;d++){e[d]=f.call(c[d],c[d],d,c)}}return e},grep:function(c,g,b){var d=[];for(var e=0,f=c.length;e<f;e++){if(!b!=!g(c[e],e)){d.push(c[e])}}return d},merge:function(){var b=arguments;var c=function(){var j=arguments[0]||{},g=1,h=arguments.length,d=false,f;if(typeof j==="boolean"){d=j;j=arguments[1]||{};g=2}if(typeof j!=="object"&&!Ext.isFunction(j)){j={}}if(h==g){j=this;--g}for(;g<h;g++){if((f=arguments[g])!=null){for(var e in f){var k=j[e],l=f[e];if(j===l){continue}if(d&&l&&typeof l==="object"&&!l.nodeType){j[e]=c(d,k||(l.length!=null?[]:{}),l)}else{if(l!==undefined){j[e]=l}}}}}return j};return c(true,null,b[0],b[1],b[2],b[3])},hyphenate:function(b){return b.replace(/([A-Z])/g,function(d,c){return"-"+c.toLowerCase()})},addEvent:function(c,d,b){var e=Ext.get(c);if(e){e.addListener(d,b)}else{if(!c.addListener){Ext.apply(c,new Ext.util.Observable())}c.addListener(d,b)}},fireEvent:function(d,e,c,b){var f={type:e,target:d};Ext.apply(f,c);if(d.fireEvent){d.fireEvent(e,f)}if(b){b(f)}},removeEvent:function(c,d,b){if(c.removeListener&&c.purgeListeners){if(d&&b){c.removeListener(d,b)}else{c.purgeListeners()}}else{var e=Ext.get(c);if(e){if(d&&b){e.removeListener(d,b)}else{e.purgeAllListeners()}}}},stop:function(b){},animate:function(c,f,b){var d=c;var e=c.attr;if(e){d=Ext.get(c.element)}if(b){if(b.duration==undefined||b.duration==0){b.duration=1}else{b.duration=b.duration/1000}}else{b={}}if(f.width!==undefined){if(e){if(Ext.isIE){c.attr("width",f.width)}else{c.element.setAttributeNS(null,"width",f.width)}}else{d.setWidth(f.width)}}else{if(f.height!==undefined){if(e){if(Ext.isIE){c.attr("height",f.height);if(f.y){c.attr("y",f.y)}}else{c.element.setAttributeNS(null,"height",f.height);if(f.y){c.element.setAttributeNS(null,"y",f.y)}}}else{d.setHeight(f.height)}}else{if(f.left!==undefined){if(e){if(Ext.isIE){c.attr("left",f.left)}else{c.element.setAttributeNS(null,"left",f.left)}}else{d.setLeft(f.left)}}else{if(f.top){if(e){if(Ext.isIE){c.attr("top",f.top)}else{c.element.setAttributeNS(null,"top",f.top)}}else{d.setTop(f.top)}}else{if(f.translateX&&f.translateY){if(e){if(Ext.isIE){c.attr("transform","translate("+f.translateX+","+f.translateY+" )")}else{c.element.setAttributeNS(null,"transform","translate("+f.translateX+","+f.translateY+" )")}}}}}}}if(f.opacity!==undefined){if(!e){d.setOpacity(parseInt(f.opacity),{duration:b.duration,callback:b.complete})}}if(b.complete!=undefined){b.complete()}},
getAjax:function(b,c){Ext.Ajax.request({url:b,success:function(d){c(d.responseText);}});}};
