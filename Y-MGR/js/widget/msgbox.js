if(typeof(FZM.widget.msgbox)=='undefined'){FZM.widget.msgbox={}};if(typeof(FZM.widget.msgbox.loading)=='undefined'){FZM.widget.msgbox.loading=FZM.config.path+"images/loading.gif"};FZM.widget.msgbox.timer=null;FZM.widget.msgbox.useTween=false;FZM.widget.msgbox.show=function(msgHtml,type,timeout,top){var template='<span class="msgbox_layer" style="display:none;z-index:10000;" id="mode_tips_v2"><span class="gtl_ico_{type}"></span>{loadIcon}{msgHtml}<span class="gtl_end"></span></span>',loading='<img src="'+FZM.widget.msgbox.loading+'" alt="" />',typeClass={0:"hits",1:"hits",2:"hits",3:"hits",4:"succ",5:"fail",6:"clear"},_box,tips;_box=FZM.dom.get("f_Mbox")||FZM.dom.create("div",document.body,false,{className:"msgbox_layer_wrap"});_box.id="f_Mbox";_box.style.display="";_box.innerHTML=FZM.string.format(template,{type:typeof(type)=="number"?(type>6?typeClass[0]:typeClass[type]):typeClass[0],msgHtml:msgHtml,loadIcon:type==6?loading:""});FZM.widget.msgbox.setPosition(_box,timeout,top)};FZM.widget.msgbox.setPosition=function(tips,timeout,top){var t=0,bt=0,ch=0,isOld=(document.compatMode=="BackCompat");if(isOld||FZM.userAgent.ie<7){ch+=FZM.dom.getCH();bt+=FZM.dom.getST();t+=Math.floor(ch/2);FZM.dom.setStyle(tips,"top",(bt+((typeof(top)=="number")?(top):(t-40)))+"px")}else{if(typeof(top)=="number"){FZM.dom.setStyle(tips,"top",top+"px")}}clearTimeout(FZM.widget.msgbox.timer);if(FZM.widget.msgbox.useTween&&FZM.Tween){var tween=new FZM.Tween(tips.firstChild,"opacity",FZM.transitions.regularEaseIn,0,1,0.25);tween.onMotionStart=function(){tips.firstChild.style.display="";if(timeout){FZM.widget.msgbox.timer=setTimeout(FZM.widget.msgbox.hide,timeout)}};tween.onMotionStop=function(){tween=null};tween.start()}else{tips.firstChild.style.display="";timeout&&(FZM.widget.msgbox.timer=setTimeout(FZM.widget.msgbox.hide,timeout))}};FZM.widget.msgbox.hide=function(timeout){if(timeout){clearTimeout(FZM.widget.msgbox.timer);FZM.widget.msgbox.timer=setTimeout(FZM.widget.msgbox._hide,timeout)}else{FZM.widget.msgbox._hide()}};FZM.widget.msgbox._hide=function(){var _mbox=FZM.dom.get("f_Mbox");clearTimeout(FZM.widget.msgbox.timer);if(_mbox){if(FZM.widget.msgbox.useTween&&FZM.Tween){var tween=new FZM.Tween(_mbox.firstChild,"opacity",FZM.transitions.regularEaseOut,1,0,0.75);tween.onMotionStop=function(){FZM.dom.setStyle(_mbox,"display","none");tween=null};tween.start()}else{FZM.dom.setStyle(_mbox,"display","none")}}};
